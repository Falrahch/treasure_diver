                              1 
                              2 ;;; gcc for m6809 : Feb 15 2016 21:40:10
                              3 ;;; 4.3.6 (gcc6809)
                              4 ;;; ABI version 1
                              5 ;;; -mint8
                              6 	.module	player.c
                              7 	.globl _vectors_player
                              8 	.area .text
   0000                       9 _vectors_player:
   0000 FF                   10 	.byte	-1
   0001 05                   11 	.byte	5
   0002 0A                   12 	.byte	10
   0003 FF                   13 	.byte	-1
   0004 0A                   14 	.byte	10
   0005 05                   15 	.byte	5
   0006 FF                   16 	.byte	-1
   0007 00                   17 	.byte	0
   0008 05                   18 	.byte	5
   0009 FF                   19 	.byte	-1
   000A 0F                   20 	.byte	15
   000B 00                   21 	.byte	0
   000C FF                   22 	.byte	-1
   000D 00                   23 	.byte	0
   000E FB                   24 	.byte	-5
   000F FF                   25 	.byte	-1
   0010 0A                   26 	.byte	10
   0011 FB                   27 	.byte	-5
   0012 FF                   28 	.byte	-1
   0013 05                   29 	.byte	5
   0014 F6                   30 	.byte	-10
   0015 FF                   31 	.byte	-1
   0016 05                   32 	.byte	5
   0017 00                   33 	.byte	0
   0018 FF                   34 	.byte	-1
   0019 00                   35 	.byte	0
   001A F1                   36 	.byte	-15
   001B FF                   37 	.byte	-1
   001C FB                   38 	.byte	-5
   001D 00                   39 	.byte	0
   001E FF                   40 	.byte	-1
   001F FB                   41 	.byte	-5
   0020 F6                   42 	.byte	-10
   0021 FF                   43 	.byte	-1
   0022 F6                   44 	.byte	-10
   0023 FB                   45 	.byte	-5
   0024 FF                   46 	.byte	-1
   0025 00                   47 	.byte	0
   0026 FB                   48 	.byte	-5
   0027 FF                   49 	.byte	-1
   0028 F1                   50 	.byte	-15
   0029 00                   51 	.byte	0
   002A FF                   52 	.byte	-1
   002B 00                   53 	.byte	0
   002C 05                   54 	.byte	5
   002D FF                   55 	.byte	-1
   002E F6                   56 	.byte	-10
   002F 05                   57 	.byte	5
   0030 FF                   58 	.byte	-1
   0031 FB                   59 	.byte	-5
   0032 0A                   60 	.byte	10
   0033 FF                   61 	.byte	-1
   0034 00                   62 	.byte	0
   0035 0F                   63 	.byte	15
   0036 00                   64 	.byte	0
   0037 10                   65 	.byte	16
   0038 02                   66 	.byte	2
   0039 FF                   67 	.byte	-1
   003A 0B                   68 	.byte	11
   003B 00                   69 	.byte	0
   003C FF                   70 	.byte	-1
   003D 04                   71 	.byte	4
   003E FC                   72 	.byte	-4
   003F FF                   73 	.byte	-1
   0040 00                   74 	.byte	0
   0041 F5                   75 	.byte	-11
   0042 FF                   76 	.byte	-1
   0043 FC                   77 	.byte	-4
   0044 FC                   78 	.byte	-4
   0045 FF                   79 	.byte	-1
   0046 F5                   80 	.byte	-11
   0047 00                   81 	.byte	0
   0048 FF                   82 	.byte	-1
   0049 FC                   83 	.byte	-4
   004A 04                   84 	.byte	4
   004B FF                   85 	.byte	-1
   004C 00                   86 	.byte	0
   004D 0B                   87 	.byte	11
   004E FF                   88 	.byte	-1
   004F 04                   89 	.byte	4
   0050 04                   90 	.byte	4
   0051 01                   91 	.byte	1
   0052 00                   92 	.byte	0
   0053 00                   93 	.byte	0
                             94 	.globl _shape_player
   0054                      95 _shape_player:
   0054 00                   96 	.byte	0
   0055 1C                   97 	.byte	28
   0056 00 00                98 	.word	_vectors_player
                             99 	.globl _player
                            100 	.area .data
   0000                     101 _player:
   0000 00                  102 	.byte	0
   0001 00                  103 	.byte	0
   0002 00                  104 	.byte	0
   0003 00 54               105 	.word	_shape_player
                            106 	.area .text
                            107 	.globl _init_player
   0058                     108 _init_player:
   0058 C6 64         [ 2]  109 	ldb	#100
   005A F7 00 00      [ 5]  110 	stb	_player
   005D 7F 00 01      [ 7]  111 	clr	_player+1
   0060 C6 32         [ 2]  112 	ldb	#50
   0062 F7 00 02      [ 5]  113 	stb	_player+2
   0065 39            [ 5]  114 	rts
                            115 	.globl _move_player
   0066                     116 _move_player:
   0066 BD 00 D7      [ 8]  117 	jsr	_check_joysticks
   0069 BD 00 DB      [ 8]  118 	jsr	_joystick_1_left
   006C 5D            [ 2]  119 	tstb
   006D 27 11         [ 3]  120 	beq	L4
   006F F6 00 01      [ 5]  121 	ldb	_player+1
   0072 C1 88         [ 2]  122 	cmpb	#-120	;cmpqi:
   0074 2D 1F         [ 3]  123 	blt	L6
   0076 F6 00 01      [ 5]  124 	ldb	_player+1
   0079 CB FE         [ 2]  125 	addb	#-2
   007B F7 00 01      [ 5]  126 	stb	_player+1
   007E 20 15         [ 3]  127 	bra	L6
   0080                     128 L4:
   0080 BD 00 F2      [ 8]  129 	jsr	_joystick_1_right
   0083 5D            [ 2]  130 	tstb
   0084 27 0F         [ 3]  131 	beq	L6
   0086 F6 00 01      [ 5]  132 	ldb	_player+1
   0089 C1 7D         [ 2]  133 	cmpb	#125	;cmpqi:
   008B 2E 08         [ 3]  134 	bgt	L6
   008D F6 00 01      [ 5]  135 	ldb	_player+1
   0090 CB 02         [ 2]  136 	addb	#2
   0092 F7 00 01      [ 5]  137 	stb	_player+1
   0095                     138 L6:
   0095 BD 01 05      [ 8]  139 	jsr	_joystick_1_up
   0098 5D            [ 2]  140 	tstb
   0099 27 11         [ 3]  141 	beq	L7
   009B F6 00 00      [ 5]  142 	ldb	_player
   009E C1 64         [ 2]  143 	cmpb	#100	;cmpqi:
   00A0 2E 1F         [ 3]  144 	bgt	L9
   00A2 F6 00 00      [ 5]  145 	ldb	_player
   00A5 CB 02         [ 2]  146 	addb	#2
   00A7 F7 00 00      [ 5]  147 	stb	_player
   00AA 20 15         [ 3]  148 	bra	L9
   00AC                     149 L7:
   00AC BD 01 1C      [ 8]  150 	jsr	_joystick_1_down
   00AF 5D            [ 2]  151 	tstb
   00B0 27 0F         [ 3]  152 	beq	L9
   00B2 F6 00 00      [ 5]  153 	ldb	_player
   00B5 C1 82         [ 2]  154 	cmpb	#-126	;cmpqi:
   00B7 2D 08         [ 3]  155 	blt	L9
   00B9 F6 00 00      [ 5]  156 	ldb	_player
   00BC CB FE         [ 2]  157 	addb	#-2
   00BE F7 00 00      [ 5]  158 	stb	_player
   00C1                     159 L9:
   00C1 BD 01 2F      [ 8]  160 	jsr	_check_buttons
   00C4 BD 01 33      [ 8]  161 	jsr	_button_1_4_held
   00C7 5D            [ 2]  162 	tstb
   00C8 26 03         [ 3]  163 	bne	L10
   00CA BD 01 3D      [ 8]  164 	jsr	_button_1_3_held
   00CD                     165 L10:
   00CD BD 01 43      [ 8]  166 	jsr	_button_1_2_held
   00D0 5D            [ 2]  167 	tstb
   00D1 26 03         [ 3]  168 	bne	L12
   00D3 BD 01 49      [ 8]  169 	jsr	_button_1_1_held
   00D6                     170 L12:
   00D6 39            [ 5]  171 	rts
   00D7                     172 _check_joysticks:
   00D7 BD 00 00      [ 8]  173 	jsr	___Joy_Digital
   00DA 39            [ 5]  174 	rts
   00DB                     175 _joystick_1_left:
   00DB 32 7F         [ 5]  176 	leas	-1,s
   00DD BD 00 EE      [ 8]  177 	jsr	_joystick_1_x
   00E0 6F E4         [ 6]  178 	clr	,s
   00E2 5D            [ 2]  179 	tstb
   00E3 2C 04         [ 3]  180 	bge	L16
   00E5 C6 01         [ 2]  181 	ldb	#1
   00E7 E7 E4         [ 4]  182 	stb	,s
   00E9                     183 L16:
   00E9 E6 E4         [ 4]  184 	ldb	,s
   00EB 32 61         [ 5]  185 	leas	1,s
   00ED 39            [ 5]  186 	rts
   00EE                     187 _joystick_1_x:
   00EE F6 00 00      [ 5]  188 	ldb	_Vec_Joy_1_X
   00F1 39            [ 5]  189 	rts
   00F2                     190 _joystick_1_right:
   00F2 32 7F         [ 5]  191 	leas	-1,s
   00F4 BD 00 EE      [ 8]  192 	jsr	_joystick_1_x
   00F7 6F E4         [ 6]  193 	clr	,s
   00F9 5D            [ 2]  194 	tstb
   00FA 2F 04         [ 3]  195 	ble	L21
   00FC C6 01         [ 2]  196 	ldb	#1
   00FE E7 E4         [ 4]  197 	stb	,s
   0100                     198 L21:
   0100 E6 E4         [ 4]  199 	ldb	,s
   0102 32 61         [ 5]  200 	leas	1,s
   0104 39            [ 5]  201 	rts
   0105                     202 _joystick_1_up:
   0105 32 7F         [ 5]  203 	leas	-1,s
   0107 BD 01 18      [ 8]  204 	jsr	_joystick_1_y
   010A 6F E4         [ 6]  205 	clr	,s
   010C 5D            [ 2]  206 	tstb
   010D 2F 04         [ 3]  207 	ble	L24
   010F C6 01         [ 2]  208 	ldb	#1
   0111 E7 E4         [ 4]  209 	stb	,s
   0113                     210 L24:
   0113 E6 E4         [ 4]  211 	ldb	,s
   0115 32 61         [ 5]  212 	leas	1,s
   0117 39            [ 5]  213 	rts
   0118                     214 _joystick_1_y:
   0118 F6 00 00      [ 5]  215 	ldb	_Vec_Joy_1_Y
   011B 39            [ 5]  216 	rts
   011C                     217 _joystick_1_down:
   011C 32 7F         [ 5]  218 	leas	-1,s
   011E BD 01 18      [ 8]  219 	jsr	_joystick_1_y
   0121 6F E4         [ 6]  220 	clr	,s
   0123 5D            [ 2]  221 	tstb
   0124 2C 04         [ 3]  222 	bge	L29
   0126 C6 01         [ 2]  223 	ldb	#1
   0128 E7 E4         [ 4]  224 	stb	,s
   012A                     225 L29:
   012A E6 E4         [ 4]  226 	ldb	,s
   012C 32 61         [ 5]  227 	leas	1,s
   012E 39            [ 5]  228 	rts
   012F                     229 _check_buttons:
   012F BD 00 00      [ 8]  230 	jsr	___Read_Btns
   0132 39            [ 5]  231 	rts
   0133                     232 _button_1_4_held:
   0133 BD 01 39      [ 8]  233 	jsr	_buttons_held
   0136 C4 08         [ 2]  234 	andb	#8
   0138 39            [ 5]  235 	rts
   0139                     236 _buttons_held:
   0139 F6 00 00      [ 5]  237 	ldb	_Vec_Btn_State
   013C 39            [ 5]  238 	rts
   013D                     239 _button_1_3_held:
   013D BD 01 39      [ 8]  240 	jsr	_buttons_held
   0140 C4 04         [ 2]  241 	andb	#4
   0142 39            [ 5]  242 	rts
   0143                     243 _button_1_2_held:
   0143 BD 01 39      [ 8]  244 	jsr	_buttons_held
   0146 C4 02         [ 2]  245 	andb	#2
   0148 39            [ 5]  246 	rts
   0149                     247 _button_1_1_held:
   0149 BD 01 39      [ 8]  248 	jsr	_buttons_held
   014C C4 01         [ 2]  249 	andb	#1
   014E 39            [ 5]  250 	rts
                            251 	.globl _draw_player
   014F                     252 _draw_player:
   014F 8E 00 00      [ 3]  253 	ldx	#_player
   0152 BD 00 00      [ 8]  254 	jsr	_draw_sprite
   0155 39            [ 5]  255 	rts
                            256 	.globl _check_player
   0156                     257 _check_player:
   0156 34 40         [ 6]  258 	pshs	u
   0158 32 79         [ 5]  259 	leas	-7,s
   015A 6F 66         [ 7]  260 	clr	6,s
   015C 7E 01 D3      [ 4]  261 	jmp	L46
   015F                     262 L49:
   015F F6 00 01      [ 5]  263 	ldb	_player+1
   0162 E7 E4         [ 4]  264 	stb	,s
                            265 	; ldb	,s	; optimization 5
   0164 CB DD         [ 2]  266 	addb	#-35
   0166 E7 61         [ 5]  267 	stb	1,s
   0168 E6 66         [ 5]  268 	ldb	6,s
   016A 4F            [ 2]  269 	clra		;zero_extendqihi: R:b -> R:d
   016B 58            [ 2]  270 	aslb
   016C 49            [ 2]  271 	rola
   016D CE 00 00      [ 3]  272 	ldu	#_crabs
   0170 30 CB         [ 8]  273 	leax	d,u
   0172 AE 84         [ 5]  274 	ldx	,x
   0174 E6 01         [ 5]  275 	ldb	1,x
   0176 CB 14         [ 2]  276 	addb	#20
   0178 E1 61         [ 5]  277 	cmpb	1,s	;cmpqi:(R)
   017A 10 2F 00 53   [ 6]  278 	lble	L47
   017E F6 00 01      [ 5]  279 	ldb	_player+1
   0181 E7 E4         [ 4]  280 	stb	,s
                            281 	; ldb	,s	; optimization 5
   0183 CB 14         [ 2]  282 	addb	#20
   0185 E7 62         [ 5]  283 	stb	2,s
   0187 E6 66         [ 5]  284 	ldb	6,s
   0189 4F            [ 2]  285 	clra		;zero_extendqihi: R:b -> R:d
   018A 58            [ 2]  286 	aslb
   018B 49            [ 2]  287 	rola
   018C CE 00 00      [ 3]  288 	ldu	#_crabs
   018F 30 CB         [ 8]  289 	leax	d,u
   0191 AE 84         [ 5]  290 	ldx	,x
   0193 E6 01         [ 5]  291 	ldb	1,x
   0195 E1 62         [ 5]  292 	cmpb	2,s	;cmpqi:(R)
   0197 2C 38         [ 3]  293 	bge	L47
   0199 F6 00 00      [ 5]  294 	ldb	_player
   019C E7 63         [ 5]  295 	stb	3,s
   019E E6 66         [ 5]  296 	ldb	6,s
   01A0 4F            [ 2]  297 	clra		;zero_extendqihi: R:b -> R:d
   01A1 58            [ 2]  298 	aslb
   01A2 49            [ 2]  299 	rola
   01A3 CE 00 00      [ 3]  300 	ldu	#_crabs
   01A6 30 CB         [ 8]  301 	leax	d,u
   01A8 AE 84         [ 5]  302 	ldx	,x
   01AA E6 84         [ 4]  303 	ldb	,x
   01AC CB 14         [ 2]  304 	addb	#20
   01AE E1 63         [ 5]  305 	cmpb	3,s	;cmpqi:(R)
   01B0 2F 1F         [ 3]  306 	ble	L47
   01B2 F6 00 00      [ 5]  307 	ldb	_player
   01B5 E7 E4         [ 4]  308 	stb	,s
                            309 	; ldb	,s	; optimization 5
   01B7 CB 32         [ 2]  310 	addb	#50
   01B9 E7 64         [ 5]  311 	stb	4,s
   01BB E6 66         [ 5]  312 	ldb	6,s
   01BD 4F            [ 2]  313 	clra		;zero_extendqihi: R:b -> R:d
   01BE 58            [ 2]  314 	aslb
   01BF 49            [ 2]  315 	rola
   01C0 CE 00 00      [ 3]  316 	ldu	#_crabs
   01C3 30 CB         [ 8]  317 	leax	d,u
   01C5 AE 84         [ 5]  318 	ldx	,x
   01C7 E6 84         [ 4]  319 	ldb	,x
   01C9 E1 64         [ 5]  320 	cmpb	4,s	;cmpqi:(R)
   01CB 2C 04         [ 3]  321 	bge	L47
   01CD 6F 65         [ 7]  322 	clr	5,s
   01CF 20 0C         [ 3]  323 	bra	L48
   01D1                     324 L47:
   01D1 6C 66         [ 7]  325 	inc	6,s
   01D3                     326 L46:
   01D3 6D 66         [ 7]  327 	tst	6,s
   01D5 10 27 FF 86   [ 6]  328 	lbeq	L49
   01D9 C6 01         [ 2]  329 	ldb	#1
   01DB E7 65         [ 5]  330 	stb	5,s
   01DD                     331 L48:
   01DD E6 65         [ 5]  332 	ldb	5,s
   01DF 32 67         [ 5]  333 	leas	7,s
   01E1 35 C0         [ 7]  334 	puls	u,pc
ASxxxx Assembler V05.00  (Motorola 6809), page 1.
Hexidecimal [16-Bits]

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
  2 L10                00CD R   |   2 L12                00D6 R
  2 L16                00E9 R   |   2 L21                0100 R
  2 L24                0113 R   |   2 L29                012A R
  2 L4                 0080 R   |   2 L46                01D3 R
  2 L47                01D1 R   |   2 L48                01DD R
  2 L49                015F R   |   2 L6                 0095 R
  2 L7                 00AC R   |   2 L9                 00C1 R
    _Vec_Btn_State     **** GX  |     _Vec_Joy_1_X       **** GX
    _Vec_Joy_1_Y       **** GX  |     ___Joy_Digital     **** GX
    ___Read_Btns       **** GX  |   2 _button_1_1_he     0149 R
  2 _button_1_2_he     0143 R   |   2 _button_1_3_he     013D R
  2 _button_1_4_he     0133 R   |   2 _buttons_held      0139 R
  2 _check_buttons     012F R   |   2 _check_joystic     00D7 R
  2 _check_player      0156 GR  |     _crabs             **** GX
  2 _draw_player       014F GR  |     _draw_sprite       **** GX
  2 _init_player       0058 GR  |   2 _joystick_1_do     011C R
  2 _joystick_1_le     00DB R   |   2 _joystick_1_ri     00F2 R
  2 _joystick_1_up     0105 R   |   2 _joystick_1_x      00EE R
  2 _joystick_1_y      0118 R   |   2 _move_player       0066 GR
  3 _player            0000 GR  |   2 _shape_player      0054 GR
  2 _vectors_playe     0000 GR

ASxxxx Assembler V05.00  (Motorola 6809), page 2.
Hexidecimal [16-Bits]

Area Table

[_CSEG]
   0 _CODE            size    0   flags C080
   2 .text            size  1E3   flags  100
   3 .data            size    5   flags  100
[_DSEG]
   1 _DATA            size    0   flags C0C0

